@model DiagnosticCenter.Models.Employee

<script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#Dept").change(function () {
            var url = '@Url.Content("~/")' + "Employees/EditCabinet";
            var ddlsource = "#Dept";
            var ddltarget = "#Cab";

            $.getJSON(url, { deptName: $(ddlsource).val() }, function (data) {
                $(ddltarget).empty();
                $.each(data, function (index, optionData) {
                    $(ddltarget).append("<option value='" + optionData.Value + "'>" + optionData.Text + "</option>");
                });

            });
        });
    });
</script>
@{ 
    ViewBag.Controller = "Employees";
    ViewBag.Action = "Employees.Edit";
 }
@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>@PatientsRes.PatientsStrings.EditPatient</legend>

        @Html.HiddenFor(model => model.ID_Employee)
        @Html.HiddenFor(model => model.ID_User)
        
        <div class="editor-label">
           @Html.Label(EmployeesRes.EmployeesStrings.Name)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.FirstName)
            @Html.ValidationMessageFor(model => model.FirstName)
        </div>

        <div class="editor-label">
            @Html.Label(EmployeesRes.EmployeesStrings.Surname)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Surname)
            @Html.ValidationMessageFor(model => model.Surname)
        </div>

        <div class="editor-label">
             @Html.Label(EmployeesRes.EmployeesStrings.Patronymic)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Patronymic)
            @Html.ValidationMessageFor(model => model.Patronymic)
        </div>
        <div class="editor-label">
           @Html.Label(EmployeesRes.EmployeesStrings.Category)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Category)
            @Html.ValidationMessageFor(model => model.Category)
        </div>

        <div class="editor-label">
            @Html.Label(EmployeesRes.EmployeesStrings.Specialty)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Specialty)
            @Html.ValidationMessageFor(model => model.Specialty)
        </div>

        <div class="editor-label">
        @Html.Label(EmployeesRes.EmployeesStrings.Position)
             @Html.DropDownList("Pos")
        </div>
        <div class="editor-label">
            @Html.Label(EmployeesRes.EmployeesStrings.Rate)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Rate)
            @Html.ValidationMessageFor(model => model.Rate)
        </div>
        <div class="editor-label">
            @Html.Label(EmployeesRes.EmployeesStrings.Department)
        </div>
        <div class="editor-field">
         
        @Html.DropDownList("Dept")
        </div>
        <div class="editor-label">
            @Html.Label(EmployeesRes.EmployeesStrings.Cabinet)
        </div>
        <div class="editor-field">
            @Html.DropDownList("Cab")
         </div>
        <p>
            <input type="submit" value=@PatientsRes.PatientsStrings.Save  id="sub"/>
        </p>
    </fieldset>
}
